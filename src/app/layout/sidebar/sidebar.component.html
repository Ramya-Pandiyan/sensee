<!-- Main Left Sidebar -->
<div class="sidebar-container">
  <div class="main-sidebar">
    <div class="sidebar-top">
      <div class="company-logo">
        <!-- <div class="logo-icon">S</div> -->
         <img src="assets/icons/logo.png" width="40" height="40" alt="Company Logo">
      </div>
      
      <div class="sidebar-nav">
        <button class="nav-item" (mouseenter)="openSubSidebar()"
        (mouseleave)="closeSubSidebar()">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <polyline points="9,22 9,12 15,12 15,22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        
        <button class="nav-item" title="Add New">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
            <line x1="12" y1="5" x2="12" y2="19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        
        <button class="nav-item" title="Notifications">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M13.73 21a2 2 0 0 1-3.46 0" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
    </div>
    
    <div class="sidebar-bottom">
      <div class="user-profile" *ngIf="currentUser">
        <div class="user-avatar">
          {{ currentUser.firstName[0] || currentUser.username[0] | uppercase }}
        </div>
      </div>
    </div>
  </div>

  <!-- Sub Sidebar -->
  <div class="sub-sidebar" [class.open]="isSubSidebarOpen" (mouseenter)="openSubSidebar()"
     (mouseleave)="closeSubSidebar()" >
    <div class="sub-sidebar-content">
      <div class="sub-sidebar-header">
        <div class="company-info">
          <div class="company-logo-text">Sense</div>
          <div class="company-name">by Bluepond.AI</div>
        </div>
      </div>
      
      <div class="sub-sidebar-section">
        <h3 class="section-title">Home</h3>
        <div class="category-list">
          <button class="category-item" (click)="onUnderwritingClick()">
            <span class="category-icon">
              <!-- <img src="assets/icons/underwriting.svg" alt="Underwriting"> -->
               <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
     xmlns="http://www.w3.org/2000/svg">
  <!-- Clipboard outline -->
  <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
  <rect x="9" y="2" width="6" height="4" rx="1" ry="1"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
  
  <!-- Vertically centered lines, left aligned -->
  <line x1="10" y1="13" x2="14" y2="13"
        stroke="currentColor" stroke-width="1" stroke-linecap="round"/>
  <line x1="10" y1="16" x2="16" y2="16"
        stroke="currentColor" stroke-width="1" stroke-linecap="round"/>
</svg>

            </span>
            <span class="category-label">Underwriting</span>
          </button>
          <button class="category-item">
            <span class="category-icon">
              <!-- <img src="assets/icons/claims.svg" alt="Claims"> -->
               <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
     xmlns="http://www.w3.org/2000/svg">
  <!-- Shield -->
  <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
  <!-- Tick mark -->
  <path d="M9 12l2 2 4-4"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>

            </span>
            <span class="category-label">Claims</span>
          </button>
          <button class="category-item">
            <span class="category-icon">
              <!-- <img src="assets/icons/reinsurance.svg" alt="Reinsurance"> -->
               <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="icon"><path d="M3.502 16.6663V13.3333C3.502 12.9661 3.79977 12.6683 4.16704 12.6683H7.50004L7.63383 12.682C7.93691 12.7439 8.16508 13.0119 8.16508 13.3333C8.16508 13.6547 7.93691 13.9227 7.63383 13.9847L7.50004 13.9984H5.47465C6.58682 15.2249 8.21842 16.0013 10 16.0013C13.06 16.0012 15.5859 13.711 15.9551 10.7513L15.9854 10.6195C16.0845 10.3266 16.3785 10.1334 16.6973 10.1732C17.0617 10.2186 17.3198 10.551 17.2745 10.9154L17.2247 11.2523C16.6301 14.7051 13.6224 17.3313 10 17.3314C8.01103 17.3314 6.17188 16.5383 4.83208 15.2474V16.6663C4.83208 17.0335 4.53411 17.3311 4.16704 17.3314C3.79977 17.3314 3.502 17.0336 3.502 16.6663ZM4.04497 9.24935C3.99936 9.61353 3.66701 9.87178 3.30278 9.8265C2.93833 9.78105 2.67921 9.44876 2.72465 9.08431L4.04497 9.24935ZM10 2.66829C11.9939 2.66833 13.8372 3.46551 15.1778 4.76204V3.33333C15.1778 2.96616 15.4757 2.66844 15.8428 2.66829C16.2101 2.66829 16.5079 2.96606 16.5079 3.33333V6.66634C16.5079 7.03361 16.2101 7.33138 15.8428 7.33138H12.5098C12.1425 7.33138 11.8448 7.03361 11.8448 6.66634C11.8449 6.29922 12.1426 6.0013 12.5098 6.0013H14.5254C13.4133 4.77488 11.7816 3.99841 10 3.99837C6.93998 3.99837 4.41406 6.28947 4.04497 9.24935L3.38481 9.16634L2.72465 9.08431C3.17574 5.46702 6.26076 2.66829 10 2.66829Z"></path></svg>
            </span>
            <span class="category-label">Reinsurance</span>
          </button>
        </div>
      </div>
      
      <div class="sub-sidebar-section">
        <h3 class="section-title">Library</h3>
        <div class="chat-history">
  <div 
    *ngFor="let chat of chatHistory" 
    class="chat-history-item"
    (click)="onChatHistoryClick(chat)"
  >
    <div class="chat-title">{{ chat.title }}</div>
    <div class="chat-date">{{ chat.date | date:'MMM d, y' }}</div>
  </div>
</div>

        </div><div class="sub-sidebar-footer" *ngIf="currentUser">
        <div class="user-info">
          <div class="user-name">{{ currentUser.firstName || currentUser.lastName }}</div>
          <button class="logout-btn" (click)="onLogout()" title="Logout">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <polyline points="16,17 21,12 16,7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <line x1="21" y1="12" x2="9" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </div>
      </div>
      
      
    </div>
  </div>